Task ID: {task_id}

Translate the following Python to Lean 4 using **IMPERATIVE STYLE**, following ALL HARD CONSTRAINTS and STRICT RULES.

IMPERATIVE STYLE REQUIREMENTS:
- Use `Id.run do` to wrap function bodies
- Use `let mut` for variables that change
- Use `for` loops with `break` and `continue`
- Use `Array` instead of `List` for efficiency
- Use `return` for early exits
- Mirror Python's procedural flow directly

Python task description:
{text}

Python code:
{code}

Python test setup (if any):
{test_setup_code}

Python asserts:
{tests}

Challenge tests (if any):
{challenge_tests}

Deliver ONE JSON object:
- task_id: integer
- lean_module_name: "Task{task_id}"
- lean_code: Lean 4 code using IMPERATIVE STYLE (Id.run do, let mut, for loops, Array operations)
- lean_tests: Lean 4 tests that mirror the Python asserts (convert Array to expected types if needed)
- notes: brief explanation of imperative patterns used (e.g., "used for loops with break for early exit", "Array for efficient indexed access")

Remember: NO sorting functions allowed. Build results imperatively using loops and mutations.

IMPERATIVE PROGRAMMING STYLE REFERENCE:
{imperative_example}
